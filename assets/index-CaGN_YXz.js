(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();const L={zh:"行動",ipa:"/ækt/",en:"Take action; do something."},T={zh:"增加",ipa:"/æd/",en:"Join (something) to something else so as to increase the size, number, or amount."},B={zh:"空氣",ipa:"/er/",en:"The invisible gaseous substance surrounding the earth, a mixture mainly of oxygen and nitrogen."},$={zh:"任何",ipa:"/ˈeni/",en:"Used to refer to one or some of a thing or number of things, no matter how much or many."},j={zh:"猿",ipa:"/eɪp/",en:"A large primate that lacks a tail, including the gorilla, chimpanzees, orangutan, and gibbons."},M={zh:"離開",ipa:"/əˈweɪ/",en:"To or at a distance from a particular place, person, or thing."},O={zh:"穀倉",ipa:"/bɑːrn/",en:"A large farm building used for storing grain, hay, or straw or for housing livestock."},W={zh:"海灣",ipa:"/beɪ/",en:"A broad inlet of the sea where the land curves inward."},q={zh:"小兔子",ipa:"/ˈbʌni/",en:"A child's term for a rabbit."},C={zh:"計程車",ipa:"/kæb/",en:"A taxi."},P={zh:"小牛",ipa:"/kæf/",en:"A young bovine animal, especially a domestic cow or bull."},U={zh:"糖果",ipa:"/ˈkændi/",en:"A sweet food made with sugar or syrup combined with fruit, chocolate, or nuts."},N={zh:"關心",ipa:"/ker/",en:"The provision of what is necessary for the health, welfare, maintenance, and protection of someone or something."},H={zh:"孩子",ipa:"/tʃaɪld/",en:"A young human being below the age of puberty or below the legal age of majority."},R={zh:"城市",ipa:"/ˈsɪti/",en:"A large town."},_={zh:"寒冷的",ipa:"/koʊld/",en:"Of or at a low or relatively low temperature, especially when compared with the human body."},D={zh:"顏色",ipa:"/ˈkʌlər/",en:"The property possessed by an object of producing different sensations on the eye as a result of the way it reflects or emits light."},F={zh:"餅乾",ipa:"/ˈkʊki/",en:"A sweet biscuit having a fairly soft, chewy texture and typically containing pieces of chocolate or fruit."},G={zh:"母牛",ipa:"/kaʊ/",en:"A fully grown female animal of a domesticated breed of ox, kept to produce milk or beef."},J={zh:"幼獸",ipa:"/kʌb/",en:"The young of a fox, bear, lion, or other carnivorous mammal."},V={zh:"白天",ipa:"/deɪ/",en:"A period of twenty-four hours as a unit of time."},Y={zh:"點",ipa:"/dɑːt/",en:"A small round mark or spot."},K={zh:"鴿子",ipa:"/dʌv/",en:"A stocky seed- or fruit-eating bird with a small head, short legs, and a cooing voice."},Z={zh:"容易的",ipa:"/ˈiːzi/",en:"Achieved without great effort; presenting few difficulties."},Q={zh:"精靈",ipa:"/elf/",en:"A supernatural creature of folk tales, typically represented as a small, elusive figure in human form with pointed ears, magical powers, and a capricious nature."},X={zh:"跌倒",ipa:"/fɔːl/",en:"Move downward, typically rapidly and freely without control, from a higher to a lower level."},ee={zh:"飛",ipa:"/flaɪ/",en:"(of a bird, bat, or insect) move through the air using wings."},te={zh:"樂趣",ipa:"/fʌn/",en:"Enjoyment, amusement, or lighthearted pleasure."},ne={zh:"口香糖",ipa:"/ɡʌm/",en:"A viscous secretion of some trees and shrubs that hardens on drying but is soluble in water, and from which adhesives and other products are made."},oe={zh:"槍",ipa:"/ɡʌn/",en:"A weapon incorporating a metal tube from which bullets, shells, or other missiles are propelled by explosive force."},ae={zh:"乾草",ipa:"/heɪ/",en:"Grass that has been mown and dried for use as fodder."},ie={zh:"幫助",ipa:"/help/",en:"Make it easier for (someone) to do something by offering one's services or resources."},se={zh:"這裡",ipa:"/hɪr/",en:"In, at, or to this place or position."},re={zh:"小山",ipa:"/hɪl/",en:"A naturally raised area of land, not as high or craggy as a mountain."},ce={zh:"單腳跳",ipa:"/hɑːp/",en:"(of a person) move by jumping on one foot."},le={zh:"膝蓋",ipa:"/læp/",en:"The flat area between the waist and knees of a seated person."},he={zh:"遲到的",ipa:"/leɪt/",en:"Doing something or taking place after the expected, proper, or usual time."},de={zh:"喜歡",ipa:"/laɪk/",en:"Find agreeable, enjoyable, or satisfactory."},pe={zh:"線",ipa:"/laɪn/",en:"A long, narrow mark or band."},me={zh:"看",ipa:"/lʊk/",en:"Direct one's gaze toward someone or something or in a specified direction."},ue={zh:"愛",ipa:"/lʌv/",en:"An intense feeling of deep affection."},fe={zh:"低的",ipa:"/loʊ/",en:"Of less than average height from top to bottom or to the top from the ground."},ge={zh:"更多的",ipa:"/mɔːr/",en:"A greater or additional amount or degree."},ye={zh:"移動",ipa:"/muːv/",en:"Go in a specified direction or manner; change position."},we={zh:"小睡",ipa:"/næp/",en:"Sleep lightly or briefly, especially during the day."},be={zh:"打開",ipa:"/ˈoʊpən/",en:"Allow access, passage, or a view through an empty space; not closed or blocked."},ze={zh:"通過",ipa:"/pæs/",en:"Move or cause to move in a specified direction."},ve={zh:"披薩",ipa:"/ˈpiːtsə/",en:"A dish of Italian origin consisting of a flat, round base of dough baked with a topping of tomato sauce and cheese, typically with added meat or vegetables."},ke={zh:"小馬",ipa:"/ˈpoʊni/",en:"A horse of a small breed, especially one whose height at the withers is below 14 hands 2 inches."},Ae={zh:"砰的一聲",ipa:"/pɑːp/",en:"Make a light explosive sound."},xe={zh:"小狗",ipa:"/ˈpʌpi/",en:"A young dog."},Ee={zh:"兔子",ipa:"/ˈræbɪt/",en:"A burrowing, gregarious, plant-eating mammal with long ears, long hind legs, and a short tail."},Se={zh:"富有的",ipa:"/rɪtʃ/",en:"Having a great deal of money or assets; wealthy."},Ie={zh:"機器人",ipa:"/ˈroʊbɑːt/",en:"A machine capable of carrying out a complex series of actions automatically, especially one programmable by a computer."},Le={zh:"安全的",ipa:"/seɪf/",en:"Protected from or not exposed to danger or risk; not likely to be harmed or lost."},Te={zh:"害羞的",ipa:"/ʃaɪ/",en:"Being reserved or having or showing nervousness or timidity in the company of other people."},Be={zh:"生病的",ipa:"/sɪk/",en:"Affected by physical or mental illness."},$e={zh:"停止",ipa:"/stɑːp/",en:"(of an event, action, or process) come to an end; cease to happen."},je={zh:"蠟",ipa:"/wæks/",en:"A sticky yellowish moldable substance secreted by honeybees as the material of honeycomb; beeswax."},Me={zh:"拉鍊",ipa:"/ˈzɪpər/",en:"A device for fastening clothing or bags, consisting of two rows of metal or plastic teeth that are interlocked by a sliding tab."},Oe={act:L,add:T,air:B,any:$,ape:j,away:M,barn:O,bay:W,bunny:q,cab:C,calf:P,candy:U,care:N,child:H,city:R,cold:_,color:D,cookie:F,cow:G,cub:J,day:V,dot:Y,dove:K,easy:Z,elf:Q,fall:X,fly:ee,fun:te,gum:ne,gun:oe,hay:ae,help:ie,here:se,hill:re,hop:ce,lap:le,late:he,like:de,line:pe,look:me,love:ue,low:fe,more:ge,move:ye,nap:we,open:be,pass:ze,pizza:ve,pony:ke,pop:Ae,puppy:xe,rabbit:Ee,rich:Se,robot:Ie,safe:Le,shy:Te,sick:Be,stop:$e,wax:je,zipper:Me},We={zh:"王牌",ipa:"/eɪs/",en:"A playing card with a single spot on it, ranked as the highest card in its suit in most card games."},qe={zh:"演員",ipa:"/ˈæktər/",en:"A person whose profession is acting on the stage, in movies, or on television."},Ce={zh:"杏仁",ipa:"/ˈɑːmənd/",en:"The oval nutlike seed (kernel) of the almond tree, growing in a woody shell."},Pe={zh:"字母表",ipa:"/ˈælfəbet/",en:"A set of letters or symbols in a fixed order, used to represent the basic sounds of a language."},Ue={zh:"數量",ipa:"/əˈmaʊnt/",en:"A quantity of something, typically the total of a thing or things in number, size, value, or extent."},Ne={zh:"箭",ipa:"/ˈærəʊ/",en:"A shaft sharpened at the front and with feathers or vanes at the back, shot from a bow as a weapon or for sport."},He={zh:"文章",ipa:"/ˈɑːrtɪkl/",en:"A piece of writing included with others in a newspaper, magazine, or other publication."},Re={zh:"獾",ipa:"/ˈbædʒər/",en:"A heavily built omnivorous nocturnal mammal of the weasel family, typically having a grey and black coat."},_e={zh:"理髮師",ipa:"/ˈbɑːrbər/",en:"A person who cuts men's hair and shaves or trims beards as an occupation."},De={zh:"基本的",ipa:"/ˈbeɪsɪk/",en:"Forming an essential foundation or starting point; fundamental."},Fe={zh:"戰鬥",ipa:"/ˈbætl/",en:"A sustained fight between large, organized armed forces."},Ge={zh:"初學者",ipa:"/bɪˈɡɪnər/",en:"A person just starting to learn a skill or take part in an activity."},Je={zh:"捆綁",ipa:"/baɪnd/",en:"Tie or fasten (something) tightly."},Ve={zh:"借入",ipa:"/ˈbɔːrəʊ/",en:"Take and use (something that belongs to someone else) with the intention of returning it."},Ye={zh:"打擾",ipa:"/ˈbɑːðər/",en:"Take the trouble to do something."},Ke={zh:"仙人掌",ipa:"/ˈkæktəs/",en:"A succulent plant with a thick, fleshy stem that typically bears spines, lacks leaves, and is frequently native to arid regions."},Ze={zh:"卡通",ipa:"/kɑːrˈtuːn/",en:"A motion picture using animation techniques to photograph a sequence of drawings rather than real people or objects."},Qe={zh:"中心",ipa:"/ˈsentər/",en:"The middle point of a circle or sphere, equidistant from every point on the circumference or surface."},Xe={zh:"跳棋",ipa:"/ˈtʃekərz/",en:"A board game for two players, each beginning with twelve pieces of one color that are placed on the board."},et={zh:"煙囪",ipa:"/ˈtʃɪmni/",en:"A vertical channel or pipe that conducts smoke and combustion gases up from a fire or furnace."},tt={zh:"聲稱",ipa:"/kleɪm/",en:"State or assert that something is the case, typically without providing evidence or proof."},nt={zh:"店員",ipa:"/klɜːrk/",en:"A person employed in an office or bank to keep records and accounts and to undertake other routine administrative duties."},ot={zh:"點擊",ipa:"/klɪk/",en:"A short, sharp sound as of a switch being operated or of two hard objects coming smartly into contact."},at={zh:"懸崖",ipa:"/klɪf/",en:"A steep rock face, especially at the edge of the sea."},it={zh:"線索",ipa:"/kluː/",en:"A piece of evidence or information used in the detection of a crime or solving of a mystery."},st={zh:"繭",ipa:"/kəˈkuːn/",en:"A silky case spun by the larvae of many insects for protection in the pupal stage."},rt={zh:"控制",ipa:"/kənˈtroʊl/",en:"The power to influence or direct people's behavior or the course of events."},ct={zh:"角落",ipa:"/ˈkɔːrnər/",en:"A place or angle where two or more sides or edges meet."},lt={zh:"提示",ipa:"/kjuː/",en:"A thing said or done that serves as a signal to an actor or other performer to enter or to begin their speech or performance."},ht={zh:"白日夢",ipa:"/ˈdeɪdriːm/",en:"A series of pleasant thoughts that distract one's attention from the present."},dt={zh:"磁盤",ipa:"/dɪsk/",en:"A flat, thin, round object."},pt={zh:"鑽孔",ipa:"/drɪl/",en:"A hand tool, power tool, or machine with a rotating cutting tip or reciprocating hammer or chisel, used for making holes."},mt={zh:"灰塵",ipa:"/dʌst/",en:"Fine powder made from waste material or earth."},ut={zh:"敵人",ipa:"/ˈenəmi/",en:"A person who is actively opposed or hostile to someone or something."},ft={zh:"平等的",ipa:"/ˈiːkwəl/",en:"Being the same in quantity, size, degree, or value."},gt={zh:"擦除",ipa:"/ɪˈreɪs/",en:"Rub out or remove (writing or marks)."},yt={zh:"例子",ipa:"/ɪɡˈzæmpl/",en:"A thing characteristic of its kind or illustrating a general rule."},wt={zh:"田野",ipa:"/fiːld/",en:"An area of open land, especially one planted with crops or pasture, typically bounded by hedges or fences."},bt={zh:"螢火蟲",ipa:"/ˈfaɪərflaɪ/",en:"A soft-bodied beetle related to the glowworm, the winged male and flightless female of which both have luminescent organs."},zt={zh:"煙火",ipa:"/ˈfaɪərwɜːrks/",en:"A device containing gunpowder and other combustible chemicals that causes a spectacular explosion when ignited."},vt={zh:"公司",ipa:"/fɜːrm/",en:"A business concern, especially one involving a partnership of two or more people."},kt={zh:"閃光",ipa:"/flæʃ/",en:"Shine in a bright but brief, sudden, or intermittent way."},At={zh:"飛行",ipa:"/flaɪt/",en:"The action or process of flying through the air."},xt={zh:"新鮮的",ipa:"/freʃ/",en:"Recently made or obtained; not canned, frozen, or otherwise preserved."},Et={zh:"巨人",ipa:"/ˈdʒaɪənt/",en:"An imaginary or mythical being of human form but superhuman size."},St={zh:"宏偉的",ipa:"/ɡrænd/",en:"Magnificent and imposing in appearance, size, or style."},It={zh:"港口",ipa:"/ˈhɑːrbər/",en:"A place on the coast where vessels may find shelter, especially one protected from rough water by piers, jetties, and other artificial structures."},Lt={zh:"出沒",ipa:"/hɔːnt/",en:"(of a ghost) manifest itself at (a place) regularly."},Tt={zh:"歷史",ipa:"/ˈhɪstri/",en:"The study of past events, particularly in human affairs."},Bt={zh:"飢餓的",ipa:"/ˈhʌŋɡri/",en:"Feeling or displaying the need for food."},$t={zh:"鐵",ipa:"/ˈaɪərn/",en:"A strong, hard magnetic silver-grey metal, much used as a material for construction and manufacturing."},jt={zh:"島嶼",ipa:"/ˈaɪlənd/",en:"A piece of land surrounded by water."},Mt={zh:"水母",ipa:"/ˈdʒelifɪʃ/",en:"A free-swimming marine coelenterate with a jellylike bell- or saucer-shaped body that is typically transparent."},Ot={zh:"騎士",ipa:"/naɪt/",en:"(in the Middle Ages) a man who served his sovereign or lord as a mounted soldier in armor."},Wt={zh:"瓢蟲",ipa:"/ˈleɪdibɜːrd/",en:"A small beetle with a domed back, typically red or yellow with black spots."},qt={zh:"燈塔",ipa:"/ˈlaɪthaʊs/",en:"A tower or other structure containing a beacon light to warn or guide ships at sea."},Ct={zh:"寂寞的",ipa:"/ˈloʊnli/",en:"Sad because one has no friends or company."},Pt={zh:"楓樹",ipa:"/ˈmeɪpl/",en:"A tree or shrub with lobed leaves, winged fruits, and hard wood."},Ut={zh:"米",ipa:"/ˈmiːtər/",en:"The fundamental unit of length in the metric system, equal to 100 centimeters or approximately 39.37 inches."},Nt={zh:"中間",ipa:"/ˈmɪdl/",en:"At an equal distance from the extremities of something; central."},Ht={zh:"鼴鼠",ipa:"/moʊl/",en:"A small burrowing mammal with dark velvety fur, a long muzzle, and very small eyes."},Rt={zh:"狹窄的",ipa:"/ˈnæroʊ/",en:"(of something that is considerably longer than it is wide) of small width."},_t={zh:"提供",ipa:"/ˈɔːfər/",en:"Present or proffer (something) for (someone) to accept or reject as so desired."},Dt={zh:"洋蔥",ipa:"/ˈʌnjən/",en:"An edible bulb with a pungent taste and smell, composed of several concentric layers."},Ft={zh:"時期",ipa:"/ˈpɪriəd/",en:"A length or portion of time."},Gt={zh:"平原",ipa:"/pleɪn/",en:"Not decorated or elaborate; simple or ordinary in character."},Jt={zh:"強大的",ipa:"/ˈpaʊərfəl/",en:"Having great power or strength."},Vt={zh:"假裝",ipa:"/prɪˈtend/",en:"Speak and act so as to make it appear that something is the case when in fact it is not."},Yt={zh:"驕傲",ipa:"/praɪd/",en:"A feeling or deep pleasure or satisfaction derived from one's own achievements."},Kt={zh:"休息",ipa:"/ˈriːses/",en:"A period of time when the proceedings of a parliament, committee, court of law, or other official body are temporarily suspended."},Zt={zh:"記錄",ipa:"/ˈrekərd/",en:"A thing constituting a piece of evidence about the past, especially an account of an act or occurrence kept in writing or some other permanent form."},Qt={zh:"結果",ipa:"/rɪˈzʌlt/",en:"A consequence, effect, or outcome of something."},Xt={zh:"粗魯的",ipa:"/ruːd/",en:"Offensively impolite or ill-mannered."},en={zh:"季節",ipa:"/ˈsiːzn/",en:"Each of the four divisions of the year (spring, summer, autumn, and winter)."},tn={zh:"定居",ipa:"/ˈsetl/",en:"Resolve or reach an agreement about (an argument or problem)."},nn={zh:"分享",ipa:"/ʃer/",en:"A part or portion of a larger amount which is divided among a number of people, or to which a number of people contribute."},on={zh:"演講",ipa:"/spiːtʃ/",en:"The expression of or the ability to express thoughts and feelings by articulate sounds."},an={zh:"牛排",ipa:"/steɪk/",en:"High-quality beef taken from the hindquarters of the animal, typically cut into thick slices that are cooked by broiling or frying."},sn={zh:"鋼鐵",ipa:"/stiːl/",en:"A hard, strong, grey or bluish-grey alloy of iron with carbon and usually other elements."},rn={zh:"草莓",ipa:"/ˈstrɔːberi/",en:"A sweet soft red fruit with a seed-studded surface."},cn={zh:"成功",ipa:"/səkˈses/",en:"The accomplishment of an aim or purpose."},ln={zh:"日落",ipa:"/ˈsʌndaʊn/",en:"The time in the evening when the sun disappears or daylight fades."},hn={zh:"陽光照射的",ipa:"/ˈsʌnlɪt/",en:"Illuminated by direct light from the sun."},dn={zh:"日出",ipa:"/ˈsʌnraɪz/",en:"The time in the morning when the sun appears or full daylight arrives."},pn={zh:"晚餐",ipa:"/ˈsʌpər/",en:"An evening meal, typically a light or informal one."},mn={zh:"電話",ipa:"/ˈtelɪfoʊn/",en:"A system for transmitting voices over a distance using wire or radio, by converting acoustic vibrations to electrical signals."},un={zh:"口渴的",ipa:"/ˈθɜːrsti/",en:"Feeling a need to drink."},fn={zh:"線",ipa:"/θred/",en:"A long, thin strand of cotton, nylon, or other fibers used in sewing or weaving."},gn={zh:"廁所",ipa:"/ˈtɔɪlət/",en:"A fixed receptacle into which a person may urinate or defecate, typically consisting of a large bowl with a flushing mechanism."},yn={zh:"總計",ipa:"/ˈtoʊtl/",en:"Comprising the whole number or amount."},wn={zh:"垃圾",ipa:"/træʃ/"},bn={zh:"價值",ipa:"/ˈvæljuː/",en:"The importance, worth, or usefulness of something."},zn={zh:"投票",ipa:"/voʊt/",en:"A formal indication of a choice between two or more candidates or courses of action, expressed typically through a ballot or a show of hands."},vn={zh:"黃蜂",ipa:"/wɑːsp/",en:"A social winged insect which has a narrow waist and a sting and is typically yellow with black stripes."},kn={zh:"野貓",ipa:"/ˈwaɪldkæt/",en:"A small cat native to Europe, Africa, and Western Asia."},An={zh:"柳樹",ipa:"/ˈwɪloʊ/",en:"A tree or shrub of temperate climates that typically has narrow leaves, bears catkins, and grows near water."},xn={zh:"你自己",ipa:"/jɔːrˈself/",en:"Used to refer to the person being addressed as the object of a verb or preposition when they are also the subject of the clause."},En={zh:"青年",ipa:"/juːθ/",en:"The period between childhood and adult age."},Sn={ace:We,actor:qe,almond:Ce,alphabet:Pe,amount:Ue,arrow:Ne,article:He,badger:Re,barber:_e,basic:De,battle:Fe,beginner:Ge,bind:Je,borrow:Ve,bother:Ye,cactus:Ke,cartoon:Ze,center:Qe,checkers:Xe,chimney:et,claim:tt,clerk:nt,click:ot,cliff:at,clue:it,cocoon:st,control:rt,corner:ct,cue:lt,daydream:ht,disk:dt,drill:pt,dust:mt,enemy:ut,equal:ft,erase:gt,example:yt,field:wt,firefly:bt,fireworks:zt,firm:vt,flash:kt,flight:At,fresh:xt,giant:Et,grand:St,harbor:It,haunt:Lt,history:Tt,hungry:Bt,iron:$t,island:jt,jellyfish:Mt,knight:Ot,"know-how":{zh:"技能",ipa:"/ˈnoʊ haʊ/",en:"Practical knowledge or skill; expertise."},ladybird:Wt,lighthouse:qt,lonely:Ct,maple:Pt,meter:Ut,middle:Nt,mole:Ht,narrow:Rt,offer:_t,onion:Dt,period:Ft,plain:Gt,powerful:Jt,pretend:Vt,pride:Yt,recess:Kt,record:Zt,result:Qt,rude:Xt,season:en,settle:tn,share:nn,speech:on,steak:an,steel:sn,"Stone Age":{zh:"石器時代",ipa:"/ˈstoʊn eɪdʒ/",en:"A prehistoric period when weapons and tools were made of stone or of organic materials such as bone, wood, or horn."},strawberry:rn,success:cn,sundown:ln,sunlit:hn,sunrise:dn,supper:pn,telephone:mn,thirsty:un,thread:fn,toilet:gn,total:yn,trash:wn,value:bn,vote:zn,wasp:vn,wildcat:kn,willow:An,yourself:xn,youth:En};let h=null,d={},a=[],r=0,p=[],i=[];const w=document.getElementById("card-container"),In=document.getElementById("known-btn"),Ln=document.getElementById("unknown-btn"),Tn=document.getElementById("speak-btn"),Bn=document.getElementById("stats-btn"),$n=document.getElementById("settings-btn"),b=document.getElementById("level-selection-modal"),jn=document.getElementById("stats-modal"),m=document.getElementById("settings-modal");document.addEventListener("DOMContentLoaded",()=>{z(),Mn()});function z(){b.classList.remove("hidden")}function Mn(){document.querySelectorAll(".level-btn").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.level;v(t)})}),In.addEventListener("click",()=>y("known")),Ln.addEventListener("click",()=>y("unknown")),Tn.addEventListener("click",()=>Wn(a[r])),Bn.addEventListener("click",()=>qn()),$n.addEventListener("click",()=>x(m)),document.querySelectorAll(".close-modal").forEach(e=>{e.addEventListener("click",t=>{f(t.target.closest(".modal"))})}),document.getElementById("reset-progress").addEventListener("click",Pn),document.getElementById("change-level-btn").addEventListener("click",Un),document.addEventListener("click",e=>{e.target.id==="review-unknown-btn"&&On()})}function v(e){h=e,d=e==="level1"?Oe:Sn,p=JSON.parse(localStorage.getItem(`${e}_knownWords`))||[],i=JSON.parse(localStorage.getItem(`${e}_unknownWords`))||[],a=Object.keys(d).filter(t=>!p.includes(t)&&!i.includes(t)),r=0,b.classList.add("hidden"),a.length>0?u(a[r]):A()}function k(){localStorage.setItem(`${h}_knownWords`,JSON.stringify(p)),localStorage.setItem(`${h}_unknownWords`,JSON.stringify(i))}function u(e){if(!e)return;const t=d[e]||{zh:"...",ipa:"",en:""},s=`${e} ${t.en} fantasy art illustration magic the gathering style`,l=`https://image.pollinations.ai/prompt/${encodeURIComponent(s)}?width=400&height=300&nologo=true`,n=Object.keys(d).length,o=p.length+i.length+1,c=`
        <div class="card" id="current-card">
            <div class="mtg-frame">
                <div class="mtg-inner-border">
                    <!-- Title Bar -->
                    <div class="mtg-title-bar">
                        <span class="mtg-title">${e}</span>
                        <div class="mtg-mana-cost" onclick="document.getElementById('speak-btn').click()">
                            <span class="material-icons-round" style="font-size: 16px; color: #333;">volume_up</span>
                        </div>
                    </div>

                    <!-- Art -->
                    <div class="mtg-art-container">
                        <img src="${l}" alt="${e}" class="mtg-art" onerror="this.src='https://placehold.co/400x300?text=${e}'">
                    </div>

                    <!-- Type Line -->
                    <div class="mtg-type-line">
                        <span class="mtg-type-text">Artifact • ${t.ipa||"/.../"}</span>
                        <div class="mtg-set-icon"></div>
                    </div>

                    <!-- Text Box -->
                    <div class="mtg-text-box">
                        <p class="mtg-definition">${t.zh}</p>
                        <div class="mtg-flavor-text">
                            "${t.en||"The meaning of this word is ancient and powerful."}"
                        </div>
                    </div>
                </div>
            </div>
            <!-- Bottom Info (Outside Frame) -->
            <div class="mtg-bottom-info">
                <span>${o}/${n}</span>
                <span>™ & © 2025 MAGIC-WORD</span>
            </div>
        </div>
    `;if(w.innerHTML=c,a.length>1){const g=a[1],E=d[g]||{en:""},S=`${g} ${E.en} fantasy art illustration magic the gathering style`,I=new Image;I.src=`https://image.pollinations.ai/prompt/${encodeURIComponent(S)}?width=400&height=300&nologo=true`}}function y(e){const t=a[r];e==="known"?p.push(t):i.push(t),k(),a.splice(r,1),a.length>0?(r>=a.length&&(r=0),u(a[r])):A()}function A(){const e=i.length>0,t=e?`You have ${i.length} words to review.`:"You've mastered all the words!",s=e?'<button id="review-unknown-btn" class="level-btn" style="margin: 20px auto; max-width: 300px;">Review Unknown Words</button>':"";w.innerHTML=`
        <div class="loading-state">
            <span class="material-icons-round" style="font-size: 48px; color: #51cf66;">check_circle</span>
            <h2 style="margin-top: 16px;">Completed!</h2>
            <p>${t}</p>
            ${s}
        </div>
    `}function On(){i.length!==0&&(a=[...i].sort(()=>Math.random()-.5),i=[],r=0,k(),u(a[r]))}function Wn(e){if(!e)return;const t=new SpeechSynthesisUtterance(e);t.lang="en-US",t.rate=.85;const s=window.speechSynthesis.getVoices(),l=["Google US English","Samantha","Alex","Microsoft Zira - English (United States)"];for(const n of l){const o=s.find(c=>c.name.includes(n));if(o){t.voice=o;break}}window.speechSynthesis.cancel(),window.speechSynthesis.speak(t)}function qn(){Cn(),x(jn)}function Cn(){document.getElementById("known-count").textContent=p.length,document.getElementById("unknown-count").textContent=i.length;const e=document.getElementById("unknown-list");i.length===0?e.innerHTML='<li style="opacity: 0.5;">No words yet</li>':e.innerHTML=i.map(t=>{var s;return`<li>${t} <span style="opacity: 0.7;">${((s=d[t])==null?void 0:s.zh)||""}</span></li>`}).join("")}function x(e){e.classList.remove("hidden")}function f(e){e.classList.add("hidden")}function Pn(){confirm("Are you sure you want to reset your progress for this level?")&&(localStorage.removeItem(`${h}_knownWords`),localStorage.removeItem(`${h}_unknownWords`),f(m),v(h))}function Un(){f(m),z()}
