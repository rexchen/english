(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const h of s.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const M={zh:"行動",ipa:"/ækt/",en:"Take action; do something."},_={zh:"增加",ipa:"/æd/",en:"Join (something) to something else so as to increase the size, number, or amount."},j={zh:"空氣",ipa:"/er/",en:"The invisible gaseous substance surrounding the earth, a mixture mainly of oxygen and nitrogen."},U={zh:"任何",ipa:"/ˈeni/",en:"Used to refer to one or some of a thing or number of things, no matter how much or many."},N={zh:"猿",ipa:"/eɪp/",en:"A large primate that lacks a tail, including the gorilla, chimpanzees, orangutan, and gibbons."},R={zh:"離開",ipa:"/əˈweɪ/",en:"To or at a distance from a particular place, person, or thing."},q={zh:"穀倉",ipa:"/bɑːrn/",en:"A large farm building used for storing grain, hay, or straw or for housing livestock."},C={zh:"海灣",ipa:"/beɪ/",en:"A broad inlet of the sea where the land curves inward."},J={zh:"小兔子",ipa:"/ˈbʌni/",en:"A child's term for a rabbit."},P={zh:"計程車",ipa:"/kæb/",en:"A taxi."},H={zh:"小牛",ipa:"/kæf/",en:"A young bovine animal, especially a domestic cow or bull."},D={zh:"糖果",ipa:"/ˈkændi/",en:"A sweet food made with sugar or syrup combined with fruit, chocolate, or nuts."},F={zh:"關心",ipa:"/ker/",en:"The provision of what is necessary for the health, welfare, maintenance, and protection of someone or something."},G={zh:"孩子",ipa:"/tʃaɪld/",en:"A young human being below the age of puberty or below the legal age of majority."},Y={zh:"城市",ipa:"/ˈsɪti/",en:"A large town."},K={zh:"寒冷的",ipa:"/koʊld/",en:"Of or at a low or relatively low temperature, especially when compared with the human body."},V={zh:"顏色",ipa:"/ˈkʌlər/",en:"The property possessed by an object of producing different sensations on the eye as a result of the way it reflects or emits light."},Z={zh:"餅乾",ipa:"/ˈkʊki/",en:"A sweet biscuit having a fairly soft, chewy texture and typically containing pieces of chocolate or fruit."},Q={zh:"母牛",ipa:"/kaʊ/",en:"A fully grown female animal of a domesticated breed of ox, kept to produce milk or beef."},X={zh:"幼獸",ipa:"/kʌb/",en:"The young of a fox, bear, lion, or other carnivorous mammal."},ee={zh:"白天",ipa:"/deɪ/",en:"A period of twenty-four hours as a unit of time."},te={zh:"點",ipa:"/dɑːt/",en:"A small round mark or spot."},ne={zh:"鴿子",ipa:"/dʌv/",en:"A stocky seed- or fruit-eating bird with a small head, short legs, and a cooing voice."},oe={zh:"容易的",ipa:"/ˈiːzi/",en:"Achieved without great effort; presenting few difficulties."},ae={zh:"精靈",ipa:"/elf/",en:"A supernatural creature of folk tales, typically represented as a small, elusive figure in human form with pointed ears, magical powers, and a capricious nature."},ie={zh:"跌倒",ipa:"/fɔːl/",en:"Move downward, typically rapidly and freely without control, from a higher to a lower level."},se={zh:"飛",ipa:"/flaɪ/",en:"(of a bird, bat, or insect) move through the air using wings."},re={zh:"樂趣",ipa:"/fʌn/",en:"Enjoyment, amusement, or lighthearted pleasure."},le={zh:"口香糖",ipa:"/ɡʌm/",en:"A viscous secretion of some trees and shrubs that hardens on drying but is soluble in water, and from which adhesives and other products are made."},ce={zh:"槍",ipa:"/ɡʌn/",en:"A weapon incorporating a metal tube from which bullets, shells, or other missiles are propelled by explosive force."},he={zh:"乾草",ipa:"/heɪ/",en:"Grass that has been mown and dried for use as fodder."},de={zh:"幫助",ipa:"/help/",en:"Make it easier for (someone) to do something by offering one's services or resources."},pe={zh:"這裡",ipa:"/hɪr/",en:"In, at, or to this place or position."},ue={zh:"小山",ipa:"/hɪl/",en:"A naturally raised area of land, not as high or craggy as a mountain."},me={zh:"單腳跳",ipa:"/hɑːp/",en:"(of a person) move by jumping on one foot."},ge={zh:"膝蓋",ipa:"/læp/",en:"The flat area between the waist and knees of a seated person."},fe={zh:"遲到的",ipa:"/leɪt/",en:"Doing something or taking place after the expected, proper, or usual time."},we={zh:"喜歡",ipa:"/laɪk/",en:"Find agreeable, enjoyable, or satisfactory."},ye={zh:"線",ipa:"/laɪn/",en:"A long, narrow mark or band."},be={zh:"看",ipa:"/lʊk/",en:"Direct one's gaze toward someone or something or in a specified direction."},ve={zh:"愛",ipa:"/lʌv/",en:"An intense feeling of deep affection."},ze={zh:"低的",ipa:"/loʊ/",en:"Of less than average height from top to bottom or to the top from the ground."},ke={zh:"更多的",ipa:"/mɔːr/",en:"A greater or additional amount or degree."},Ae={zh:"移動",ipa:"/muːv/",en:"Go in a specified direction or manner; change position."},xe={zh:"小睡",ipa:"/næp/",en:"Sleep lightly or briefly, especially during the day."},Se={zh:"打開",ipa:"/ˈoʊpən/",en:"Allow access, passage, or a view through an empty space; not closed or blocked."},Ie={zh:"通過",ipa:"/pæs/",en:"Move or cause to move in a specified direction."},Ee={zh:"披薩",ipa:"/ˈpiːtsə/",en:"A dish of Italian origin consisting of a flat, round base of dough baked with a topping of tomato sauce and cheese, typically with added meat or vegetables."},$e={zh:"小馬",ipa:"/ˈpoʊni/",en:"A horse of a small breed, especially one whose height at the withers is below 14 hands 2 inches."},Le={zh:"砰的一聲",ipa:"/pɑːp/",en:"Make a light explosive sound."},Be={zh:"小狗",ipa:"/ˈpʌpi/",en:"A young dog."},Te={zh:"兔子",ipa:"/ˈræbɪt/",en:"A burrowing, gregarious, plant-eating mammal with long ears, long hind legs, and a short tail."},We={zh:"富有的",ipa:"/rɪtʃ/",en:"Having a great deal of money or assets; wealthy."},Oe={zh:"機器人",ipa:"/ˈroʊbɑːt/",en:"A machine capable of carrying out a complex series of actions automatically, especially one programmable by a computer."},Me={zh:"安全的",ipa:"/seɪf/",en:"Protected from or not exposed to danger or risk; not likely to be harmed or lost."},_e={zh:"害羞的",ipa:"/ʃaɪ/",en:"Being reserved or having or showing nervousness or timidity in the company of other people."},je={zh:"生病的",ipa:"/sɪk/",en:"Affected by physical or mental illness."},Ue={zh:"停止",ipa:"/stɑːp/",en:"(of an event, action, or process) come to an end; cease to happen."},Ne={zh:"蠟",ipa:"/wæks/",en:"A sticky yellowish moldable substance secreted by honeybees as the material of honeycomb; beeswax."},Re={zh:"拉鍊",ipa:"/ˈzɪpər/",en:"A device for fastening clothing or bags, consisting of two rows of metal or plastic teeth that are interlocked by a sliding tab."},v={act:M,add:_,air:j,any:U,ape:N,away:R,barn:q,bay:C,bunny:J,cab:P,calf:H,candy:D,care:F,child:G,city:Y,cold:K,color:V,cookie:Z,cow:Q,cub:X,day:ee,dot:te,dove:ne,easy:oe,elf:ae,fall:ie,fly:se,fun:re,gum:le,gun:ce,hay:he,help:de,here:pe,hill:ue,hop:me,lap:ge,late:fe,like:we,line:ye,look:be,love:ve,low:ze,more:ke,move:Ae,nap:xe,open:Se,pass:Ie,pizza:Ee,pony:$e,pop:Le,puppy:Be,rabbit:Te,rich:We,robot:Oe,safe:Me,shy:_e,sick:je,stop:Ue,wax:Ne,zipper:Re},qe={zh:"王牌",ipa:"/eɪs/",en:"A playing card with a single spot on it, ranked as the highest card in its suit in most card games."},Ce={zh:"演員",ipa:"/ˈæktər/",en:"A person whose profession is acting on the stage, in movies, or on television."},Je={zh:"杏仁",ipa:"/ˈɑːmənd/",en:"The oval nutlike seed (kernel) of the almond tree, growing in a woody shell."},Pe={zh:"字母表",ipa:"/ˈælfəbet/",en:"A set of letters or symbols in a fixed order, used to represent the basic sounds of a language."},He={zh:"數量",ipa:"/əˈmaʊnt/",en:"A quantity of something, typically the total of a thing or things in number, size, value, or extent."},De={zh:"箭",ipa:"/ˈærəʊ/",en:"A shaft sharpened at the front and with feathers or vanes at the back, shot from a bow as a weapon or for sport."},Fe={zh:"文章",ipa:"/ˈɑːrtɪkl/",en:"A piece of writing included with others in a newspaper, magazine, or other publication."},Ge={zh:"獾",ipa:"/ˈbædʒər/",en:"A heavily built omnivorous nocturnal mammal of the weasel family, typically having a grey and black coat."},Ye={zh:"理髮師",ipa:"/ˈbɑːrbər/",en:"A person who cuts men's hair and shaves or trims beards as an occupation."},Ke={zh:"基本的",ipa:"/ˈbeɪsɪk/",en:"Forming an essential foundation or starting point; fundamental."},Ve={zh:"戰鬥",ipa:"/ˈbætl/",en:"A sustained fight between large, organized armed forces."},Ze={zh:"初學者",ipa:"/bɪˈɡɪnər/",en:"A person just starting to learn a skill or take part in an activity."},Qe={zh:"捆綁",ipa:"/baɪnd/",en:"Tie or fasten (something) tightly."},Xe={zh:"借入",ipa:"/ˈbɔːrəʊ/",en:"Take and use (something that belongs to someone else) with the intention of returning it."},et={zh:"打擾",ipa:"/ˈbɑːðər/",en:"Take the trouble to do something."},tt={zh:"仙人掌",ipa:"/ˈkæktəs/",en:"A succulent plant with a thick, fleshy stem that typically bears spines, lacks leaves, and is frequently native to arid regions."},nt={zh:"卡通",ipa:"/kɑːrˈtuːn/",en:"A motion picture using animation techniques to photograph a sequence of drawings rather than real people or objects."},ot={zh:"中心",ipa:"/ˈsentər/",en:"The middle point of a circle or sphere, equidistant from every point on the circumference or surface."},at={zh:"跳棋",ipa:"/ˈtʃekərz/",en:"A board game for two players, each beginning with twelve pieces of one color that are placed on the board."},it={zh:"煙囪",ipa:"/ˈtʃɪmni/",en:"A vertical channel or pipe that conducts smoke and combustion gases up from a fire or furnace."},st={zh:"聲稱",ipa:"/kleɪm/",en:"State or assert that something is the case, typically without providing evidence or proof."},rt={zh:"店員",ipa:"/klɜːrk/",en:"A person employed in an office or bank to keep records and accounts and to undertake other routine administrative duties."},lt={zh:"點擊",ipa:"/klɪk/",en:"A short, sharp sound as of a switch being operated or of two hard objects coming smartly into contact."},ct={zh:"懸崖",ipa:"/klɪf/",en:"A steep rock face, especially at the edge of the sea."},ht={zh:"線索",ipa:"/kluː/",en:"A piece of evidence or information used in the detection of a crime or solving of a mystery."},dt={zh:"繭",ipa:"/kəˈkuːn/",en:"A silky case spun by the larvae of many insects for protection in the pupal stage."},pt={zh:"控制",ipa:"/kənˈtroʊl/",en:"The power to influence or direct people's behavior or the course of events."},ut={zh:"角落",ipa:"/ˈkɔːrnər/",en:"A place or angle where two or more sides or edges meet."},mt={zh:"提示",ipa:"/kjuː/",en:"A thing said or done that serves as a signal to an actor or other performer to enter or to begin their speech or performance."},gt={zh:"白日夢",ipa:"/ˈdeɪdriːm/",en:"A series of pleasant thoughts that distract one's attention from the present."},ft={zh:"磁盤",ipa:"/dɪsk/",en:"A flat, thin, round object."},wt={zh:"鑽孔",ipa:"/drɪl/",en:"A hand tool, power tool, or machine with a rotating cutting tip or reciprocating hammer or chisel, used for making holes."},yt={zh:"灰塵",ipa:"/dʌst/",en:"Fine powder made from waste material or earth."},bt={zh:"敵人",ipa:"/ˈenəmi/",en:"A person who is actively opposed or hostile to someone or something."},vt={zh:"平等的",ipa:"/ˈiːkwəl/",en:"Being the same in quantity, size, degree, or value."},zt={zh:"擦除",ipa:"/ɪˈreɪs/",en:"Rub out or remove (writing or marks)."},kt={zh:"例子",ipa:"/ɪɡˈzæmpl/",en:"A thing characteristic of its kind or illustrating a general rule."},At={zh:"田野",ipa:"/fiːld/",en:"An area of open land, especially one planted with crops or pasture, typically bounded by hedges or fences."},xt={zh:"螢火蟲",ipa:"/ˈfaɪərflaɪ/",en:"A soft-bodied beetle related to the glowworm, the winged male and flightless female of which both have luminescent organs."},St={zh:"煙火",ipa:"/ˈfaɪərwɜːrks/",en:"A device containing gunpowder and other combustible chemicals that causes a spectacular explosion when ignited."},It={zh:"公司",ipa:"/fɜːrm/",en:"A business concern, especially one involving a partnership of two or more people."},Et={zh:"閃光",ipa:"/flæʃ/",en:"Shine in a bright but brief, sudden, or intermittent way."},$t={zh:"飛行",ipa:"/flaɪt/",en:"The action or process of flying through the air."},Lt={zh:"新鮮的",ipa:"/freʃ/",en:"Recently made or obtained; not canned, frozen, or otherwise preserved."},Bt={zh:"巨人",ipa:"/ˈdʒaɪənt/",en:"An imaginary or mythical being of human form but superhuman size."},Tt={zh:"宏偉的",ipa:"/ɡrænd/",en:"Magnificent and imposing in appearance, size, or style."},Wt={zh:"港口",ipa:"/ˈhɑːrbər/",en:"A place on the coast where vessels may find shelter, especially one protected from rough water by piers, jetties, and other artificial structures."},Ot={zh:"出沒",ipa:"/hɔːnt/",en:"(of a ghost) manifest itself at (a place) regularly."},Mt={zh:"歷史",ipa:"/ˈhɪstri/",en:"The study of past events, particularly in human affairs."},_t={zh:"飢餓的",ipa:"/ˈhʌŋɡri/",en:"Feeling or displaying the need for food."},jt={zh:"鐵",ipa:"/ˈaɪərn/",en:"A strong, hard magnetic silver-grey metal, much used as a material for construction and manufacturing."},Ut={zh:"島嶼",ipa:"/ˈaɪlənd/",en:"A piece of land surrounded by water."},Nt={zh:"水母",ipa:"/ˈdʒelifɪʃ/",en:"A free-swimming marine coelenterate with a jellylike bell- or saucer-shaped body that is typically transparent."},Rt={zh:"騎士",ipa:"/naɪt/",en:"(in the Middle Ages) a man who served his sovereign or lord as a mounted soldier in armor."},qt={zh:"瓢蟲",ipa:"/ˈleɪdibɜːrd/",en:"A small beetle with a domed back, typically red or yellow with black spots."},Ct={zh:"燈塔",ipa:"/ˈlaɪthaʊs/",en:"A tower or other structure containing a beacon light to warn or guide ships at sea."},Jt={zh:"寂寞的",ipa:"/ˈloʊnli/",en:"Sad because one has no friends or company."},Pt={zh:"楓樹",ipa:"/ˈmeɪpl/",en:"A tree or shrub with lobed leaves, winged fruits, and hard wood."},Ht={zh:"米",ipa:"/ˈmiːtər/",en:"The fundamental unit of length in the metric system, equal to 100 centimeters or approximately 39.37 inches."},Dt={zh:"中間",ipa:"/ˈmɪdl/",en:"At an equal distance from the extremities of something; central."},Ft={zh:"鼴鼠",ipa:"/moʊl/",en:"A small burrowing mammal with dark velvety fur, a long muzzle, and very small eyes."},Gt={zh:"狹窄的",ipa:"/ˈnæroʊ/",en:"(of something that is considerably longer than it is wide) of small width."},Yt={zh:"提供",ipa:"/ˈɔːfər/",en:"Present or proffer (something) for (someone) to accept or reject as so desired."},Kt={zh:"洋蔥",ipa:"/ˈʌnjən/",en:"An edible bulb with a pungent taste and smell, composed of several concentric layers."},Vt={zh:"時期",ipa:"/ˈpɪriəd/",en:"A length or portion of time."},Zt={zh:"平原",ipa:"/pleɪn/",en:"Not decorated or elaborate; simple or ordinary in character."},Qt={zh:"強大的",ipa:"/ˈpaʊərfəl/",en:"Having great power or strength."},Xt={zh:"假裝",ipa:"/prɪˈtend/",en:"Speak and act so as to make it appear that something is the case when in fact it is not."},en={zh:"驕傲",ipa:"/praɪd/",en:"A feeling or deep pleasure or satisfaction derived from one's own achievements."},tn={zh:"休息",ipa:"/ˈriːses/",en:"A period of time when the proceedings of a parliament, committee, court of law, or other official body are temporarily suspended."},nn={zh:"記錄",ipa:"/ˈrekərd/",en:"A thing constituting a piece of evidence about the past, especially an account of an act or occurrence kept in writing or some other permanent form."},on={zh:"結果",ipa:"/rɪˈzʌlt/",en:"A consequence, effect, or outcome of something."},an={zh:"粗魯的",ipa:"/ruːd/",en:"Offensively impolite or ill-mannered."},sn={zh:"季節",ipa:"/ˈsiːzn/",en:"Each of the four divisions of the year (spring, summer, autumn, and winter)."},rn={zh:"定居",ipa:"/ˈsetl/",en:"Resolve or reach an agreement about (an argument or problem)."},ln={zh:"分享",ipa:"/ʃer/",en:"A part or portion of a larger amount which is divided among a number of people, or to which a number of people contribute."},cn={zh:"演講",ipa:"/spiːtʃ/",en:"The expression of or the ability to express thoughts and feelings by articulate sounds."},hn={zh:"牛排",ipa:"/steɪk/",en:"High-quality beef taken from the hindquarters of the animal, typically cut into thick slices that are cooked by broiling or frying."},dn={zh:"鋼鐵",ipa:"/stiːl/",en:"A hard, strong, grey or bluish-grey alloy of iron with carbon and usually other elements."},pn={zh:"草莓",ipa:"/ˈstrɔːberi/",en:"A sweet soft red fruit with a seed-studded surface."},un={zh:"成功",ipa:"/səkˈses/",en:"The accomplishment of an aim or purpose."},mn={zh:"日落",ipa:"/ˈsʌndaʊn/",en:"The time in the evening when the sun disappears or daylight fades."},gn={zh:"陽光照射的",ipa:"/ˈsʌnlɪt/",en:"Illuminated by direct light from the sun."},fn={zh:"日出",ipa:"/ˈsʌnraɪz/",en:"The time in the morning when the sun appears or full daylight arrives."},wn={zh:"晚餐",ipa:"/ˈsʌpər/",en:"An evening meal, typically a light or informal one."},yn={zh:"電話",ipa:"/ˈtelɪfoʊn/",en:"A system for transmitting voices over a distance using wire or radio, by converting acoustic vibrations to electrical signals."},bn={zh:"口渴的",ipa:"/ˈθɜːrsti/",en:"Feeling a need to drink."},vn={zh:"線",ipa:"/θred/",en:"A long, thin strand of cotton, nylon, or other fibers used in sewing or weaving."},zn={zh:"廁所",ipa:"/ˈtɔɪlət/",en:"A fixed receptacle into which a person may urinate or defecate, typically consisting of a large bowl with a flushing mechanism."},kn={zh:"總計",ipa:"/ˈtoʊtl/",en:"Comprising the whole number or amount."},An={zh:"垃圾",ipa:"/træʃ/",en:"Waste material that is thrown away."},xn={zh:"價值",ipa:"/ˈvæljuː/",en:"The importance, worth, or usefulness of something."},Sn={zh:"投票",ipa:"/voʊt/",en:"A formal indication of a choice between two or more candidates or courses of action, expressed typically through a ballot or a show of hands."},In={zh:"黃蜂",ipa:"/wɑːsp/",en:"A social winged insect which has a narrow waist and a sting and is typically yellow with black stripes."},En={zh:"野貓",ipa:"/ˈwaɪldkæt/",en:"A small cat native to Europe, Africa, and Western Asia."},$n={zh:"柳樹",ipa:"/ˈwɪloʊ/",en:"A tree or shrub of temperate climates that typically has narrow leaves, bears catkins, and grows near water."},Ln={zh:"你自己",ipa:"/jɔːrˈself/",en:"Used to refer to the person being addressed as the object of a verb or preposition when they are also the subject of the clause."},Bn={zh:"青年",ipa:"/juːθ/",en:"The period between childhood and adult age."},z={ace:qe,actor:Ce,almond:Je,alphabet:Pe,amount:He,arrow:De,article:Fe,badger:Ge,barber:Ye,basic:Ke,battle:Ve,beginner:Ze,bind:Qe,borrow:Xe,bother:et,cactus:tt,cartoon:nt,center:ot,checkers:at,chimney:it,claim:st,clerk:rt,click:lt,cliff:ct,clue:ht,cocoon:dt,control:pt,corner:ut,cue:mt,daydream:gt,disk:ft,drill:wt,dust:yt,enemy:bt,equal:vt,erase:zt,example:kt,field:At,firefly:xt,fireworks:St,firm:It,flash:Et,flight:$t,fresh:Lt,giant:Bt,grand:Tt,harbor:Wt,haunt:Ot,history:Mt,hungry:_t,iron:jt,island:Ut,jellyfish:Nt,knight:Rt,"know-how":{zh:"技能",ipa:"/ˈnoʊ haʊ/",en:"Practical knowledge or skill; expertise."},ladybird:qt,lighthouse:Ct,lonely:Jt,maple:Pt,meter:Ht,middle:Dt,mole:Ft,narrow:Gt,offer:Yt,onion:Kt,period:Vt,plain:Zt,powerful:Qt,pretend:Xt,pride:en,recess:tn,record:nn,result:on,rude:an,season:sn,settle:rn,share:ln,speech:cn,steak:hn,steel:dn,"Stone Age":{zh:"石器時代",ipa:"/ˈstoʊn eɪdʒ/",en:"A prehistoric period when weapons and tools were made of stone or of organic materials such as bone, wood, or horn."},strawberry:pn,success:un,sundown:mn,sunlit:gn,sunrise:fn,supper:wn,telephone:yn,thirsty:bn,thread:vn,toilet:zn,total:kn,trash:An,value:xn,vote:Sn,wasp:In,wildcat:En,willow:$n,yourself:Ln,youth:Bn};let c=null,p={},a=[],l=0,d=[],r=[],u=!1,g=0;const k=document.getElementById("card-container"),f=document.getElementById("known-btn"),w=document.getElementById("unknown-btn"),y=document.getElementById("speak-btn"),Tn=document.getElementById("stats-btn"),Wn=document.getElementById("settings-btn"),A=document.getElementById("level-selection-modal"),On=document.getElementById("stats-modal"),x=document.getElementById("settings-modal");document.addEventListener("DOMContentLoaded",()=>{L(),Mn()});function L(){const e=JSON.parse(localStorage.getItem("level1_unknownWords"))||[],t=JSON.parse(localStorage.getItem("level2_unknownWords"))||[],o=e.length>0||t.length>0,i=document.getElementById("global-review-btn");i&&(i.style.display=o?"flex":"none"),A.classList.remove("hidden")}function Mn(){document.querySelectorAll(".level-btn[data-level]").forEach(e=>{e.addEventListener("click",()=>{const t=e.dataset.level;b(t)})}),document.getElementById("global-review-btn").addEventListener("click",Pn),f.addEventListener("click",()=>$("known")),w.addEventListener("click",()=>$("unknown")),y.addEventListener("click",()=>Un(a[l])),Tn.addEventListener("click",()=>Rn()),Wn.addEventListener("click",()=>T(x)),document.querySelectorAll(".close-modal").forEach(e=>{e.addEventListener("click",t=>{S(t.target.closest(".modal"))})}),document.getElementById("reset-progress").addEventListener("click",Cn),document.getElementById("change-level-btn").addEventListener("click",Jn),document.addEventListener("click",e=>{e.target.id==="review-unknown-btn"&&jn()})}function b(e){c=e,p=e==="level1"?v:z,d=JSON.parse(localStorage.getItem(`${e}_knownWords`))||[],r=JSON.parse(localStorage.getItem(`${e}_unknownWords`))||[],a=Object.keys(p).filter(t=>!d.includes(t)&&!r.includes(t)),a.sort(()=>Math.random()-.5),l=0,u=!1,A.classList.add("hidden"),a.length===0&&(d.length>0||r.length>0)&&confirm(`You have already completed ${e==="level1"?"Level 1":"Level 2"}. Do you want to restart from the beginning?`)&&(localStorage.removeItem(`${e}_knownWords`),localStorage.removeItem(`${e}_unknownWords`),d=[],r=[],a=Object.keys(p)),a.length>0?m(a[l]):B()}function E(){localStorage.setItem(`${c}_knownWords`,JSON.stringify(d)),localStorage.setItem(`${c}_unknownWords`,JSON.stringify(r))}function m(e){if(!e)return;f.disabled=!1,w.disabled=!1,y.disabled=!1;const t=p[e]||{zh:"...",ipa:"",en:""},o=`${e} ${t.en} fantasy art illustration magic the gathering style`,i=`https://image.pollinations.ai/prompt/${encodeURIComponent(o)}?width=400&height=300&nologo=true`;let n="";if(u)n=`${g-a.length+1}/${g}`;else{const h=Object.keys(p).length;n=`${d.length+r.length+1}/${h}`}const s=`
        <div class="card" id="current-card">
            <div class="mtg-frame">
                <div class="mtg-inner-border">
                    <!-- Title Bar -->
                    <div class="mtg-title-bar">
                        <span class="mtg-title">${e}</span>
                        <div class="mtg-mana-cost" onclick="document.getElementById('speak-btn').click()">
                            <span class="material-icons-round" style="font-size: 16px; color: #333;">volume_up</span>
                        </div>
                    </div>

                    <!-- Art -->
                    <div class="mtg-art-container">
                        <img src="${i}" alt="${e}" class="mtg-art" onerror="this.src='https://placehold.co/400x300?text=${e}'">
                    </div>

                    <!-- Type Line -->
                    <div class="mtg-type-line">
                        <span class="mtg-type-text">Artifact • ${t.ipa||"/.../"}</span>
                        <div class="mtg-set-icon"></div>
                    </div>

                    <!-- Text Box -->
                    <div class="mtg-text-box">
                        <p class="mtg-definition">${t.zh}</p>
                        <div class="mtg-flavor-text">
                            "${t.en||"The meaning of this word is ancient and powerful."}"
                        </div>
                    </div>
                </div>
            </div>
            <!-- Bottom Info (Outside Frame) -->
            <div class="mtg-bottom-info">
                <span>${n}</span>
                <span>™ & © 2025 MAGIC-WORD</span>
            </div>
        </div>
    `;if(k.innerHTML=s,a.length>1){const h=a[1],I=p[h]||{en:""},W=`${h} ${I.en} fantasy art illustration magic the gathering style`,O=new Image;O.src=`https://image.pollinations.ai/prompt/${encodeURIComponent(W)}?width=400&height=300&nologo=true`}}function $(e){const t=a[l];if(u){if(e==="known"){const o=r.indexOf(t);o>-1&&r.splice(o,1),d.includes(t)||d.push(t)}c==="global_review"?Nn(t,e):E(),a.splice(l,1),a.length>0?(l>=a.length&&(l=0),m(a[l])):(u=!1,_n())}else e==="known"?d.push(t):r.push(t),E(),a.splice(l,1),a.length>0?(l>=a.length&&(l=0),m(a[l])):B()}function B(){var i;const e=r.length>0,t=e?`You have ${r.length} words to review.`:"You've mastered all the words!",o=e?'<button id="review-unknown-btn" class="level-btn" style="margin: 20px auto; max-width: 300px;">Review Unknown Words</button>':"";f.disabled=!0,w.disabled=!0,y.disabled=!0,k.innerHTML=`
        <div class="loading-state">
            <span class="material-icons-round" style="font-size: 48px; color: #51cf66;">check_circle</span>
            <h2 style="margin-top: 16px;">Completed!</h2>
            <p>${t}</p>
            ${o}
            <button onclick="location.reload()" class="level-btn" style="margin: 10px auto; max-width: 300px; background: #f0f0f0;">Back to Menu</button>
            <button id="restart-level-btn" class="level-btn" style="margin: 10px auto; max-width: 300px; background: #ffe3e3; border-color: #ff6b6b; color: #c92a2a;">Restart Level</button>
        </div>
    `,(i=document.getElementById("restart-level-btn"))==null||i.addEventListener("click",()=>{confirm("Are you sure you want to restart this level? All progress will be lost.")&&(localStorage.removeItem(`${c}_knownWords`),localStorage.removeItem(`${c}_unknownWords`),b(c))})}function _n(){var i;const e=r.length>0,t=e?`Great! You still have ${r.length} words to review.`:"Excellent! You've learned all the unknown words!",o=e?'<button id="review-unknown-btn" class="level-btn" style="margin: 20px auto; max-width: 300px;">Review Again</button>':"";f.disabled=!0,w.disabled=!0,y.disabled=!0,k.innerHTML=`
        <div class="loading-state">
            <span class="material-icons-round" style="font-size: 48px; color: #4dabf7;">restart_alt</span>
            <h2 style="margin-top: 16px;">Review Complete!</h2>
            <p>${t}</p>
            ${o}
            <button onclick="location.reload()" class="level-btn" style="margin: 10px auto; max-width: 300px; background: #f0f0f0;">Back to Menu</button>
            <button id="restart-level-btn-review" class="level-btn" style="margin: 10px auto; max-width: 300px; background: #ffe3e3; border-color: #ff6b6b; color: #c92a2a;">Restart Level</button>
        </div>
    `,(i=document.getElementById("restart-level-btn-review"))==null||i.addEventListener("click",()=>{confirm("Are you sure you want to restart this level? All progress will be lost.")&&(localStorage.removeItem(`${c}_knownWords`),localStorage.removeItem(`${c}_unknownWords`),b(c))})}function jn(){r.length!==0&&(a=[...r].sort(()=>Math.random()-.5),l=0,u=!0,g=a.length,m(a[l]))}function Un(e){if(!e)return;const t=new SpeechSynthesisUtterance(e);t.lang="en-US",t.rate=.85;const o=window.speechSynthesis.getVoices(),i=["Google US English","Samantha","Alex","Microsoft Zira - English (United States)"];for(const n of i){const s=o.find(h=>h.name.includes(n));if(s){t.voice=s;break}}window.speechSynthesis.cancel(),window.speechSynthesis.speak(t)}function Nn(e,t){let o=null;if(v[e]?o="level1":z[e]&&(o="level2"),!o)return;let i=JSON.parse(localStorage.getItem(`${o}_knownWords`))||[],n=JSON.parse(localStorage.getItem(`${o}_unknownWords`))||[];t==="known"?(n=n.filter(s=>s!==e),i.includes(e)||i.push(e)):(n.includes(e)||n.push(e),i=i.filter(s=>s!==e)),localStorage.setItem(`${o}_knownWords`,JSON.stringify(i)),localStorage.setItem(`${o}_unknownWords`,JSON.stringify(n))}function Rn(){qn(),T(On)}function qn(){document.getElementById("known-count").textContent=d.length,document.getElementById("unknown-count").textContent=r.length;const e=document.getElementById("unknown-list");r.length===0?e.innerHTML='<li style="opacity: 0.5;">No words yet</li>':e.innerHTML=r.map(t=>{var o;return`<li>${t} <span style="opacity: 0.7;">${((o=p[t])==null?void 0:o.zh)||""}</span></li>`}).join("")}function T(e){e.classList.remove("hidden")}function S(e){e.classList.add("hidden")}function Cn(){confirm("Are you sure you want to reset your progress for this level?")&&(localStorage.removeItem(`${c}_knownWords`),localStorage.removeItem(`${c}_unknownWords`),S(x),b(c))}function Jn(){S(x),L()}function Pn(){const e=JSON.parse(localStorage.getItem("level1_unknownWords"))||[],t=JSON.parse(localStorage.getItem("level2_unknownWords"))||[];if(e.length===0&&t.length===0){alert("You don't have any unknown words to review yet!");return}p={...v,...z},r=[...e,...t],c="global_review",a=[...r].sort(()=>Math.random()-.5),l=0,u=!0,g=a.length,A.classList.add("hidden"),m(a[l])}
