(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function c(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(e){if(e.ep)return;e.ep=!0;const s=c(e);fetch(e.href,s)}})();const C=["ace","actor","almond","alphabet","amount","arrow","article","badger","barber","basic","battle","beginner","bind","borrow","bother","cactus","cartoon","center","checkers","chimney","claim","clerk","click","cliff","clue","cocoon","control","corner","cue","daydream","disk","drill","dust","enemy","equal","erase","example","field","firefly","fireworks","firm","flash","flight","fresh","giant","grand","harbor","haunt","history","hungry","iron","island","jellyfish","knight","know-how","ladybird","lighthouse","lonely","maple","meter","middle","mole","narrow","offer","onion","period","plain","powerful","pretend","pride","recess","record","result","rude","season","settle","share","speech","steak","steel","Stone Age","strawberry","success","sundown","sunlit","sunrise","supper","telephone","thirsty","thread","toilet","total","trash","value","vote","wasp","wildcat","willow","yourself","youth"],M={zh:"çŽ‹ç‰Œ",ipa:"/eÉªs/"},J={zh:"æ¼”å“¡",ipa:"/ËˆÃ¦ktÉ™r/"},P={zh:"æä»",ipa:"/ËˆÉ‘ËmÉ™nd/"},H={zh:"å­—æ¯è¡¨",ipa:"/ËˆÃ¦lfÉ™bet/"},T={zh:"æ•¸é‡",ipa:"/É™ËˆmaÊŠnt/"},R={zh:"ç®­",ipa:"/ËˆÃ¦rÉ™ÊŠ/"},q={zh:"æ–‡ç« ",ipa:"/ËˆÉ‘ËrtÉªkl/"},D={zh:"ç¾",ipa:"/ËˆbÃ¦dÊ’É™r/"},V={zh:"ç†é«®å¸«",ipa:"/ËˆbÉ‘ËrbÉ™r/"},_={zh:"åŸºæœ¬çš„",ipa:"/ËˆbeÉªsÉªk/"},F={zh:"æˆ°é¬¥",ipa:"/ËˆbÃ¦tl/"},Y={zh:"åˆå­¸è€…",ipa:"/bÉªËˆÉ¡ÉªnÉ™r/"},G={zh:"æ†ç¶",ipa:"/baÉªnd/"},K={zh:"å€Ÿå…¥",ipa:"/ËˆbÉ”ËrÉ™ÊŠ/"},X={zh:"æ‰“æ“¾",ipa:"/ËˆbÉ‘ËÃ°É™r/"},Q={zh:"ä»™äººæŽŒ",ipa:"/ËˆkÃ¦ktÉ™s/"},Z={zh:"å¡é€š",ipa:"/kÉ‘ËrËˆtuËn/"},tt={zh:"ä¸­å¿ƒ",ipa:"/ËˆsentÉ™r/"},et={zh:"è·³æ£‹",ipa:"/ËˆtÊƒekÉ™rz/"},nt={zh:"ç…™å›ª",ipa:"/ËˆtÊƒÉªmni/"},ot={zh:"è²ç¨±",ipa:"/kleÉªm/"},st={zh:"åº—å“¡",ipa:"/klÉœËrk/"},it={zh:"é»žæ“Š",ipa:"/klÉªk/"},rt={zh:"æ‡¸å´–",ipa:"/klÉªf/"},at={zh:"ç·šç´¢",ipa:"/kluË/"},ct={zh:"ç¹­",ipa:"/kÉ™ËˆkuËn/"},lt={zh:"æŽ§åˆ¶",ipa:"/kÉ™nËˆtroÊŠl/"},dt={zh:"è§’è½",ipa:"/ËˆkÉ”ËrnÉ™r/"},ht={zh:"æç¤º",ipa:"/kjuË/"},pt={zh:"ç™½æ—¥å¤¢",ipa:"/ËˆdeÉªdriËm/"},ut={zh:"ç£ç›¤",ipa:"/dÉªsk/"},ft={zh:"é‘½å­”",ipa:"/drÉªl/"},mt={zh:"ç°å¡µ",ipa:"/dÊŒst/"},gt={zh:"æ•µäºº",ipa:"/ËˆenÉ™mi/"},zt={zh:"å¹³ç­‰çš„",ipa:"/ËˆiËkwÉ™l/"},wt={zh:"æ“¦é™¤",ipa:"/ÉªËˆreÉªs/"},kt={zh:"ä¾‹å­",ipa:"/ÉªÉ¡ËˆzÃ¦mpl/"},yt={zh:"ç”°é‡Ž",ipa:"/fiËld/"},bt={zh:"èž¢ç«èŸ²",ipa:"/ËˆfaÉªÉ™rflaÉª/"},vt={zh:"ç…™ç«",ipa:"/ËˆfaÉªÉ™rwÉœËrks/"},Et={zh:"å…¬å¸",ipa:"/fÉœËrm/"},Lt={zh:"é–ƒå…‰",ipa:"/flÃ¦Êƒ/"},St={zh:"é£›è¡Œ",ipa:"/flaÉªt/"},Bt={zh:"æ–°é®®çš„",ipa:"/freÊƒ/"},It={zh:"å·¨äºº",ipa:"/ËˆdÊ’aÉªÉ™nt/"},xt={zh:"å®å‰çš„",ipa:"/É¡rÃ¦nd/"},$t={zh:"æ¸¯å£",ipa:"/ËˆhÉ‘ËrbÉ™r/"},Ot={zh:"å‡ºæ²’",ipa:"/hÉ”Ënt/"},At={zh:"æ­·å²",ipa:"/ËˆhÉªstri/"},Wt={zh:"é£¢é¤“çš„",ipa:"/ËˆhÊŒÅ‹É¡ri/"},Nt={zh:"éµ",ipa:"/ËˆaÉªÉ™rn/"},Ut={zh:"å³¶å¶¼",ipa:"/ËˆaÉªlÉ™nd/"},jt={zh:"æ°´æ¯",ipa:"/ËˆdÊ’elifÉªÊƒ/"},Ct={zh:"é¨Žå£«",ipa:"/naÉªt/"},Mt={zh:"ç“¢èŸ²",ipa:"/ËˆleÉªdibÉœËrd/"},Jt={zh:"ç‡ˆå¡”",ipa:"/ËˆlaÉªthaÊŠs/"},Pt={zh:"å¯‚å¯žçš„",ipa:"/ËˆloÊŠnli/"},Ht={zh:"æ¥“æ¨¹",ipa:"/ËˆmeÉªpl/"},Tt={zh:"ç±³",ipa:"/ËˆmiËtÉ™r/"},Rt={zh:"ä¸­é–“",ipa:"/ËˆmÉªdl/"},qt={zh:"é¼´é¼ ",ipa:"/moÊŠl/"},Dt={zh:"ç‹¹çª„çš„",ipa:"/ËˆnÃ¦roÊŠ/"},Vt={zh:"æä¾›",ipa:"/ËˆÉ”ËfÉ™r/"},_t={zh:"æ´‹è”¥",ipa:"/ËˆÊŒnjÉ™n/"},Ft={zh:"æ™‚æœŸ",ipa:"/ËˆpÉªriÉ™d/"},Yt={zh:"å¹³åŽŸ",ipa:"/pleÉªn/"},Gt={zh:"å¼·å¤§çš„",ipa:"/ËˆpaÊŠÉ™rfÉ™l/"},Kt={zh:"å‡è£",ipa:"/prÉªËˆtend/"},Xt={zh:"é©•å‚²",ipa:"/praÉªd/"},Qt={zh:"ä¼‘æ¯",ipa:"/ËˆriËses/"},Zt={zh:"è¨˜éŒ„",ipa:"/ËˆrekÉ™rd/"},te={zh:"çµæžœ",ipa:"/rÉªËˆzÊŒlt/"},ee={zh:"ç²—é­¯çš„",ipa:"/ruËd/"},ne={zh:"å­£ç¯€",ipa:"/ËˆsiËzn/"},oe={zh:"å®šå±…",ipa:"/Ëˆsetl/"},se={zh:"åˆ†äº«",ipa:"/Êƒer/"},ie={zh:"æ¼”è¬›",ipa:"/spiËtÊƒ/"},re={zh:"ç‰›æŽ’",ipa:"/steÉªk/"},ae={zh:"é‹¼éµ",ipa:"/stiËl/"},ce={zh:"è‰èŽ“",ipa:"/ËˆstrÉ”Ëberi/"},le={zh:"æˆåŠŸ",ipa:"/sÉ™kËˆses/"},de={zh:"æ—¥è½",ipa:"/ËˆsÊŒndaÊŠn/"},he={zh:"é™½å…‰ç…§å°„çš„",ipa:"/ËˆsÊŒnlÉªt/"},pe={zh:"æ—¥å‡º",ipa:"/ËˆsÊŒnraÉªz/"},ue={zh:"æ™šé¤",ipa:"/ËˆsÊŒpÉ™r/"},fe={zh:"é›»è©±",ipa:"/ËˆtelÉªfoÊŠn/"},me={zh:"å£æ¸´çš„",ipa:"/ËˆÎ¸ÉœËrsti/"},ge={zh:"ç·š",ipa:"/Î¸red/"},ze={zh:"å»æ‰€",ipa:"/ËˆtÉ”ÉªlÉ™t/"},we={zh:"ç¸½è¨ˆ",ipa:"/ËˆtoÊŠtl/"},ke={zh:"åžƒåœ¾",ipa:"/trÃ¦Êƒ/"},ye={zh:"åƒ¹å€¼",ipa:"/ËˆvÃ¦ljuË/"},be={zh:"æŠ•ç¥¨",ipa:"/voÊŠt/"},ve={zh:"é»ƒèœ‚",ipa:"/wÉ‘Ësp/"},Ee={zh:"é‡Žè²“",ipa:"/ËˆwaÉªldkÃ¦t/"},Le={zh:"æŸ³æ¨¹",ipa:"/ËˆwÉªloÊŠ/"},Se={zh:"ä½ è‡ªå·±",ipa:"/jÉ”ËrËˆself/"},Be={zh:"é’å¹´",ipa:"/juËÎ¸/"},Ie={ace:M,actor:J,almond:P,alphabet:H,amount:T,arrow:R,article:q,badger:D,barber:V,basic:_,battle:F,beginner:Y,bind:G,borrow:K,bother:X,cactus:Q,cartoon:Z,center:tt,checkers:et,chimney:nt,claim:ot,clerk:st,click:it,cliff:rt,clue:at,cocoon:ct,control:lt,corner:dt,cue:ht,daydream:pt,disk:ut,drill:ft,dust:mt,enemy:gt,equal:zt,erase:wt,example:kt,field:yt,firefly:bt,fireworks:vt,firm:Et,flash:Lt,flight:St,fresh:Bt,giant:It,grand:xt,harbor:$t,haunt:Ot,history:At,hungry:Wt,iron:Nt,island:Ut,jellyfish:jt,knight:Ct,"know-how":{zh:"æŠ€èƒ½",ipa:"/ËˆnoÊŠ haÊŠ/"},ladybird:Mt,lighthouse:Jt,lonely:Pt,maple:Ht,meter:Tt,middle:Rt,mole:qt,narrow:Dt,offer:Vt,onion:_t,period:Ft,plain:Yt,powerful:Gt,pretend:Kt,pride:Xt,recess:Qt,record:Zt,result:te,rude:ee,season:ne,settle:oe,share:se,speech:ie,steak:re,steel:ae,"Stone Age":{zh:"çŸ³å™¨æ™‚ä»£",ipa:"/ËˆstoÊŠn eÉªdÊ’/"},strawberry:ce,success:le,sundown:de,sunlit:he,sunrise:pe,supper:ue,telephone:fe,thirsty:me,thread:ge,toilet:ze,total:we,trash:ke,value:ye,vote:be,wasp:ve,wildcat:Ee,willow:Le,yourself:Se,youth:Be};document.addEventListener("DOMContentLoaded",()=>{let p=[],l=Ie,c=JSON.parse(localStorage.getItem("vocab_known"))||[],o=JSON.parse(localStorage.getItem("vocab_unknown"))||[],e=[];const s=document.getElementById("card-container"),d=document.getElementById("unknown-btn"),S=document.getElementById("known-btn"),B=document.getElementById("speak-btn"),I=document.getElementById("stats-btn"),x=document.getElementById("settings-btn"),g=document.getElementById("stats-modal"),u=document.getElementById("settings-modal"),$=document.querySelectorAll(".close-modal"),O=document.getElementById("json-upload"),A=document.getElementById("reset-progress"),W=document.getElementById("known-count"),N=document.getElementById("unknown-count"),U=document.getElementById("unknown-list");j();async function j(){try{await f(),k()}catch(t){console.error("Initialization failed:",t),s.innerHTML="<p>Error loading data. Please refresh.</p>"}}async function f(t=null){t?p=t:p=C,e=p.filter(n=>!c.includes(n)),e.length>0?z(e[0]):b()}function z(t){if(!t)return;const n=l[t]||{zh:"...",ipa:""},r=`
            <div class="card" id="current-card">
                <div class="card-image-container">
                    <img src="${`https://image.pollinations.ai/prompt/${t}%20illustration%20minimalist%20vector%20art?width=400&height=400&nologo=true`}" alt="${t}" class="card-image" onerror="this.src='https://placehold.co/400x400?text=${t}'">
                </div>
                <div class="card-content">
                    <h2 class="word-english">${t}</h2>
                    <p class="word-ipa">${n.ipa||""}</p>
                    <p class="word-chinese">${n.zh}</p>
                </div>
            </div>
        `;if(s.innerHTML=r,e.length>1){const a=e[1],y=new Image;y.src=`https://image.pollinations.ai/prompt/${a}%20illustration%20minimalist%20vector%20art?width=400&height=400&nologo=true`}}function m(t){const n=e[0];if(!n)return;const i=document.getElementById("current-card"),r=t==="known"?100:-100,a=t==="known"?20:-20;i.style.transform=`translate(${r}%, -20px) rotate(${a}deg)`,i.style.opacity="0",setTimeout(()=>{t==="known"?c.includes(n)||(c.push(n),o=o.filter(y=>y!==n)):o.includes(n)||o.push(n),w(),e.shift(),e.length>0?z(e[0]):b(),k()},300)}function b(){const t=o.length>0,n=t?`You have ${o.length} words to review.`:"You've mastered all the words!",i=t?`<button id="review-btn" class="action-btn" style="width: auto; padding: 0 24px; border-radius: 24px; background: var(--primary-color); color: white; font-weight: 600;">
                 Review ${o.length} Words
               </button>`:`<button id="reset-all-btn" class="action-btn" style="width: auto; padding: 0 24px; border-radius: 24px; background: var(--text-main); color: white; font-weight: 600;">
                 Start Over
               </button>`;s.innerHTML=`
            <div class="card-content">
                <h2>All Caught Up! ðŸŽ‰</h2>
                <p style="margin-bottom: 24px; color: var(--text-secondary);">${n}</p>
                ${i}
            </div>
        `,t?document.getElementById("review-btn").addEventListener("click",()=>{v()}):document.getElementById("reset-all-btn").addEventListener("click",()=>{confirm("Reset all progress and start over?")&&(c=[],o=[],w(),f())})}function v(){if(o.length===0){alert("No unknown words to review!");return}e=[...o],e.sort(()=>Math.random()-.5),z(e[0]),g.classList.add("hidden")}let h=null;function E(){const t=window.speechSynthesis.getVoices(),n=["Google US English","Samantha","Microsoft David","Alex"];for(const i of n){const r=t.find(a=>a.name.includes(i)&&a.lang.startsWith("en"));if(r){h=r;break}}h||(h=t.find(i=>i.lang==="en-US"))}window.speechSynthesis.onvoiceschanged!==void 0&&(window.speechSynthesis.onvoiceschanged=E),E();function L(){const t=e[0];if(t){window.speechSynthesis.cancel();const n=new SpeechSynthesisUtterance(t);n.lang="en-US",n.rate=.9,h&&(n.voice=h),window.speechSynthesis.speak(n)}}function w(){localStorage.setItem("vocab_known",JSON.stringify(c)),localStorage.setItem("vocab_unknown",JSON.stringify(o))}function k(){var n;W.textContent=c.length,N.textContent=o.length;const t=o.length>0?`<button id="practice-unknown-btn" style="width: 100%; padding: 12px; margin-bottom: 16px; background: var(--primary-color); color: white; border: none; border-radius: 8px; font-weight: 600; cursor: pointer;">
                 Practice ${o.length} Unknown Words
               </button>`:"";U.innerHTML=t+o.map(i=>{var r;return`
            <li>
                <span>${i}</span>
                <span style="color: #888;">${((r=l[i])==null?void 0:r.zh)||""}</span>
            </li>
        `}).join(""),o.length>0&&((n=document.getElementById("practice-unknown-btn"))==null||n.addEventListener("click",v))}S.addEventListener("click",()=>m("known")),d.addEventListener("click",()=>m("unknown")),B.addEventListener("click",L),document.addEventListener("keydown",t=>{t.key==="ArrowRight"&&m("known"),t.key==="ArrowLeft"&&m("unknown"),(t.key===" "||t.key==="ArrowUp")&&L()}),I.addEventListener("click",()=>{k(),g.classList.remove("hidden")}),x.addEventListener("click",()=>u.classList.remove("hidden")),$.forEach(t=>{t.addEventListener("click",()=>{g.classList.add("hidden"),u.classList.add("hidden")})}),A.addEventListener("click",()=>{confirm("Are you sure you want to reset all progress?")&&(c=[],o=[],w(),f(),u.classList.add("hidden"))}),O.addEventListener("change",t=>{const n=t.target.files[0];if(n){const i=new FileReader;i.onload=r=>{try{const a=JSON.parse(r.target.result);Array.isArray(a)?(f(a),u.classList.add("hidden"),alert("Custom list loaded!")):alert("Invalid JSON format. Expected an array of strings.")}catch{alert("Error parsing JSON")}},i.readAsText(n)}})});
